<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><meta name=description content="Gateways provide a destination for mixnet packets. Most of the internet doesn't use encrypted Sphinx packets, so the gateway acts as a destination for Sphinx traffic."><meta name=author content="Nym Team"><link rel=icon href=/docs/images/favicon.png type=image/png><title>Gateways :: Nym Docs</title><link href=/docs/css/nucleus.css?1620933932 rel=stylesheet><link href=/docs/css/fontawesome-all.min.css?1620933932 rel=stylesheet><link href=/docs/css/hybrid.css?1620933932 rel=stylesheet><link href=/docs/css/featherlight.min.css?1620933932 rel=stylesheet><link href=/docs/css/perfect-scrollbar.min.css?1620933932 rel=stylesheet><link href=/docs/css/auto-complete.css?1620933932 rel=stylesheet><link href=/docs/css/atom-one-dark-reasonable.css?1620933932 rel=stylesheet><link href=/docs/css/theme.css?1620933932 rel=stylesheet><link href=/docs/css/hugo-theme.css?1620933932 rel=stylesheet><link href=/docs/css/theme-green.css?1620933932 rel=stylesheet><script src=/docs/js/jquery-3.3.1.min.js?1620933932></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=/docs/run-nym-nodes/gateways/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/docs><img width=40px height=10px src=/docs/images/nym-logo.svg alt="Nym Logo"></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/docs/js/lunr.min.js?1620933932></script><script type=text/javascript src=/docs/js/auto-complete.js?1620933932></script><script type=text/javascript>var baseurl="https://nymtech.net/docs/"</script><script type=text/javascript src=/docs/js/search.js?1620933932></script></div><div class=highlightable><ul class=topics><li data-nav-id=/docs/overview/ title=Overview class=dd-item><a href=/docs/overview/>Overview</a><ul><li data-nav-id=/docs/overview/nym-platform/ title="The Nym Platform" class=dd-item><a href=/docs/overview/nym-platform/>The Nym Platform</a></li><li data-nav-id=/docs/overview/network-privacy/ title="Network Privacy" class=dd-item><a href=/docs/overview/network-privacy/>Network Privacy</a></li><li data-nav-id=/docs/overview/private-access-control/ title=Coconut class=dd-item><a href=/docs/overview/private-access-control/>Coconut</a></li><li data-nav-id=/docs/overview/links/ title=Links class=dd-item><a href=/docs/overview/links/>Links</a></li></ul></li><li data-nav-id=/docs/run-nym-nodes/ title="Run Nym Nodes" class="dd-item
parent"><a href=/docs/run-nym-nodes/>Run Nym Nodes</a><ul><li data-nav-id=/docs/run-nym-nodes/incentives/ title=Incentives class=dd-item><a href=/docs/run-nym-nodes/incentives/>Incentives</a></li><li data-nav-id=/docs/run-nym-nodes/build-nym/ title="Building Nym" class=dd-item><a href=/docs/run-nym-nodes/build-nym/>Building Nym</a></li><li data-nav-id=/docs/run-nym-nodes/mixnodes/ title=Mixnodes class=dd-item><a href=/docs/run-nym-nodes/mixnodes/>Mixnodes</a></li><li data-nav-id=/docs/run-nym-nodes/validators/ title=Validators class=dd-item><a href=/docs/run-nym-nodes/validators/>Validators</a></li><li data-nav-id=/docs/run-nym-nodes/requester/ title=Requesters class=dd-item><a href=/docs/run-nym-nodes/requester/>Requesters</a></li><li data-nav-id=/docs/run-nym-nodes/gateways/ title=Gateways class="dd-item active"><a href=/docs/run-nym-nodes/gateways/>Gateways</a></li><li data-nav-id=/docs/run-nym-nodes/troubleshooting/ title="Mixnode Troubleshooting FAQ" class=dd-item><a href=/docs/run-nym-nodes/troubleshooting/>Mixnode Troubleshooting FAQ</a></li></ul></li><li data-nav-id=/docs/use-apps/ title="Use Apps" class=dd-item><a href=/docs/use-apps/>Use Apps</a><ul><li data-nav-id=/docs/use-apps/blockstream-green/ title="Blockstream Green" class=dd-item><a href=/docs/use-apps/blockstream-green/>Blockstream Green</a></li><li data-nav-id=/docs/use-apps/electrum/ title=Electrum class=dd-item><a href=/docs/use-apps/electrum/>Electrum</a></li><li data-nav-id=/docs/use-apps/keybase/ title=KeyBase class=dd-item><a href=/docs/use-apps/keybase/>KeyBase</a></li></ul></li><li data-nav-id=/docs/build-apps/ title="Build Apps" class=dd-item><a href=/docs/build-apps/>Build Apps</a><ul><li data-nav-id=/docs/build-apps/choose-a-client/ title="Choose a client" class=dd-item><a href=/docs/build-apps/choose-a-client/>Choose a client</a></li><li data-nav-id=/docs/build-apps/websocket-client/ title="Websocket client" class=dd-item><a href=/docs/build-apps/websocket-client/>Websocket client</a></li><li data-nav-id=/docs/build-apps/wasm-client/ title="Webassembly client" class=dd-item><a href=/docs/build-apps/wasm-client/>Webassembly client</a></li><li data-nav-id=/docs/build-apps/demos/ title=Demos class=dd-item><a href=/docs/build-apps/demos/>Demos</a></li></ul></li><li data-nav-id=/docs/community/ title=Community class=dd-item><a href=/docs/community/>Community</a><ul><li data-nav-id=/docs/community/code-of-conduct/ title="Code of Conduct" class=dd-item><a href=/docs/community/code-of-conduct/>Code of Conduct</a></li><li data-nav-id=/docs/community/licensing/ title=Licensing class=dd-item><a href=/docs/community/licensing/>Licensing</a></li></ul></li></ul><section id=shortcuts><h3>Community</h3><ul><li><a class=padding href=https://nymtech.net><i class="fas fa-fw fa-bullhorn"></i> Website</a></li><li><a class=padding href=https://medium.com/nymtech><i class="fab fa-fw fa-medium"></i> Blog</a></li><li><a class=padding href=https://github.com/nymtech/><i class="fab fa-fw fa-github"></i> Github</a></li><li><a class=padding href=https://nymtech.net/docs/overview/links/><i class="fas fa-fw fa-key"></i> Developer Chat</a></li><li><a class=padding href=https://twitter.com/nymproject/><i class="fab fa-fw fa-twitter"></i> Twitter</a></li><li><a class=padding href=https://t.me/nymchan><i class="fab fa-fw fa-telegram"></i> Telegram</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/docs/>Nym</a> > <a href=/docs/run-nym-nodes/>Run Nym Nodes</a> > Gateways</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#gateways>Gateways</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Gateways</h1><h3 id=gateways>Gateways</h3><div class="notices info"><p>The Nym gateway was built in the <a href=/docs/run-nym-nodes/build-nym/>building nym</a> section. If you haven&rsquo;t yet built Nym and want to run the code, go there first.</p></div><p>Gateways provide a destination for mixnet packets. Most of the internet doesn&rsquo;t use encrypted Sphinx packets, so the gateway acts as a destination, sort of like a mailbox, for messages.</p><p>If you would like to run a gateway for the network, please contact us.</p><p>Nym clients connect to gateways. Messages are automatically piped to connected clients and deleted from the gateway&rsquo;s disk storage. If a client is offline when a message arrives, it will be stored for later retrieval. When the client connects, all messages will be delivered, and deleted from the gateway&rsquo;s disk. As of release 0.8.x gateways use end-to-end encryption, so they cannot see the content of what they&rsquo;re storing for users.</p><p>When it starts up, a client registers itself with a gateway, and the gateway returns an access token. The access token plus the gateway&rsquo;s IP can then be used as a form of addressing for delivering packets.</p><p>The default gateway implementation included in the Nym platform code holds packets for later retrieval. For many applications (such as simple chat), this is usable out of the box, as it provides a place that potentially offline clients can retrieve packets from. The access token allows clients to pull messages from the gateway node.</p><p>You can run the gateway like this:</p><p><code>nym-gateway</code></p><p>Output looks like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ ./nym-gateway


      _ __  _   _ _ __ ___
     | <span style=color:#e6db74>&#39;_ \| | | | &#39;</span>_ <span style=color:#ae81ff>\ </span>_ <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>     | | | | |_| | | | | | |
     |_| |_|<span style=color:#ae81ff>\_</span>_, |_| |_| |_|
            |___/

             <span style=color:#f92672>(</span>gateway - version 0.10.0<span style=color:#f92672>)</span>

    
usage: --help to see available options.
</code></pre></div><p><code>./nym-gateway init --help</code> shows available configuration options</p><h4 id=initializing-a-gateway>Initializing a gateway</h4><p>The <code>init</code> command sets up the gateway. You <strong>must</strong> supply 3 parameters:</p><ol><li><code>--id</code> a name for this gateway (determines where the config file will be saved, keep it to one word)</li><li><code>--clients-host</code> needs to be an IPv4 or IPv6 address. This is the IP that the gateway will listen on for requests coming from Nym clients.</li><li><code>--mix-host</code> needs to be an IPv4 or IPv6 address. This is the IP that the gateway will listen on for incoming Sphinx packets coming from the mixnet.</li></ol><p>Example:</p><p><code>./nym-gateway init --clients-host 82.32.45.6 --mix-host 82.32.45.6 --id supergateway</code> starts up a gateway node with default options, running on <code>82.32.45.6</code>. Note that you need to use an internet-addressable host ip. Gateways <strong>must</strong> also be capable of addressing IPv6.</p><h4 id=running-a-gateway>Running a gateway</h4><p>The <code>run</code> command runs the gateway.</p><p>Example:</p><p><code>./nym-gateway run --id supergateway</code></p><p>Results in:</p><pre><code>
      _ __  _   _ _ __ ___
     | '_ \| | | | '_ \ _ \
     | | | | |_| | | | | | |
     |_| |_|\__, |_| |_| |_|
            |___/

             (gateway - version 0.10.0)

    
Starting gateway supergateway...
Public key: DFvUKggcDZcqKqemK8C1KXNmBvJasp1A3ZRFdETVV9eX

Directory server [presence]: https://testnet-validator1.nymtech.net
Listening for incoming sphinx packets on 127.0.0.1:1789
Announcing the following socket address for sphinx packets: 127.0.0.1:1789
Listening for incoming clients packets on 127.0.0.1:9000
Announcing the following socket address for clients packets: ws://127.0.0.1:9000
Inboxes directory is: &quot;~/.nym/gateways/supergateway/data/inboxes&quot;
Clients ledger is stored at: &quot;~/.nym/gateways/supergateway/data/client_ledger.sled&quot;
 2020-05-26T18:40:18.713 INFO  nym_gateway::node &gt; Starting nym gateway!
 2020-05-26T18:40:19.071 INFO  nym_gateway::node &gt; Starting mix packet forwarder...
 2020-05-26T18:40:19.071 INFO  nym_gateway::node &gt; Starting clients handler
 2020-05-26T18:40:19.071 INFO  nym_gateway::node &gt; Starting mix socket listener...
 2020-05-26T18:40:19.071 INFO  nym_gateway::node &gt; Starting client [web]socket listener...
 2020-05-26T18:40:19.072 INFO  nym_gateway::node &gt; Starting presence notifier...
 2020-05-26T18:40:19.072 INFO  nym_gateway::node::mixnet_handling::receiver::listener 
 &gt; Starting mixnet listener at 127.0.0.1:1789
 2020-05-26T18:40:19.072 INFO  nym_gateway::node::client_handling::websocket::listener 
 &gt; Starting websocket listener at 127.0.0.1:9000
 2020-05-26T18:40:19.081 INFO  nym_gateway::node                                       
 &gt; Finished nym gateway startup procedure - it should now be able to receive mix and client traffic!
</code></pre><p>We are currently running only one gateway, and it&rsquo;s going to become a bottleneck in the network. If you are interested in running a gateway for the network, please let us know.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/docs/run-nym-nodes/requester/ title=Requesters><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/docs/run-nym-nodes/troubleshooting/ title="Mixnode Troubleshooting FAQ" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/docs/js/clipboard.min.js?1620933932></script><script src=/docs/js/perfect-scrollbar.min.js?1620933932></script><script src=/docs/js/perfect-scrollbar.jquery.min.js?1620933932></script><script src=/docs/js/jquery.sticky.js?1620933932></script><script src=/docs/js/featherlight.min.js?1620933932></script><script src=/docs/js/highlight.pack.js?1620933932></script><script>hljs.initHighlightingOnLoad()</script><script src=/docs/js/modernizr.custom-3.6.0.js?1620933932></script><script src=/docs/js/learn.js?1620933932></script><script src=/docs/js/hugo-learn.js?1620933932></script><link href=/docs/mermaid/mermaid.css?1620933932 rel=stylesheet><script src=/docs/mermaid/mermaid.js?1620933932></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>